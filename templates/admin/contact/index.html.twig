{% extends 'admin/adminBase.html.twig' %}

{% block title %}Gestion des contacts
{% endblock %}

{% block body %}
	<h1 class="text-center p-4">Gestion des contacts</h1>
	{% if contacts %}
		<div class="relative p-4 overflow-x-auto shadow-md sm:rounded-lg">
			<table class="w-full text-sm text-left text-gray-500 ">
				<thead class="text-xs text-gray-700 uppercase bg-gray-50 ">
					<tr class="text-center">
						<th scope="col" class="px-6 py-3">
							status
						</th>
						<th scope="col" class="px-6 py-3">
							Nom
						</th>
						<th scope="col" class="px-6 py-3">
							Numéro de téléphone
						</th>
						<th scope="col" class="px-6 py-3">
							date
						</th>
						<th scope="col" class="px-6 py-3">
							email
						</th>
						<th scope="col" class="px-6 py-3">
							objet
						</th>
						<th scope="col" class="px-6 py-3">
							Actions
						</th>
					</tr>
				</thead>
				<tbody>
					{% for contact in contacts %}

						<tr class="bg-white border-b max-h-8">
							<th scope="row" class="px-6 py-4 flex whitespace-nowrap">
								{% if contact.isView %}
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24">
										<g fill="none">
											<path d="M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"/>
											<path fill="gray" d="M10.89 2.538a2 2 0 0 1 2.072-.09l.147.09l8 5.333a2 2 0 0 1 .884 1.498l.007.166V19a2 2 0 0 1-1.85 1.995L20 21H4a2 2 0 0 1-1.995-1.85L2 19V9.535a2 2 0 0 1 .756-1.566l.135-.098l8-5.333ZM12 4.202L4.803 9L12 13.798L19.197 9L12 4.202Z"/>
										</g>
									</svg>
								{% else %}
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24">
										<path fill="gray" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5l-8-5V6l8 5l8-5v2z"/>
									</svg>
								{% endif %}
							</th>
							<td class="px-6 py-4">
								{{ contact.fullName }}
							</td>
							<td class="px-6 py-4">
								{{ contact.phoneNumber }}
							</td>
							<td class="px-6 py-4">
								{{ contact.createdAt }}
							</td>
							<td class="px-6 py-4">
								{{ contact.email }}
							</td>
							<td class="px-6 py-4 ">
								{{ contact.subject }}
							</td>
							<td class="px-6 py-4 flex gap-8">
								<a href="{{ path('admin_contact_view', {id: contact.id}) }}" class=" m-2 p-2 bg-blue-500 text-white rounded-2xl hover:bg-blue-800">Voir</a>

								<a href="{{ path('admin_contact_delete', {id: contact.id}) }}" class=" m-2 p-2 bg-red-500 text-white rounded-2xl hover:bg-red-800">Supprimer</a>
							</td>
						</tr>

					{% endfor %}
				</tbody>
			</table>
		</div>
	{% endif %}
{% endblock %}
